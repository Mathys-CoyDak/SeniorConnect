{
  "info": {
    "name": "SeniorConnect - API Utilisateurs",
    "description": "Tests API Utilisateurs sécurisée par JWT"
  },
  "requests": [
    {
      "name": "1 - Register utilisateur",
      "method": "POST",
      "url": "http://localhost:8080/api/auth/register",
      "body": {
        "type": "json",
        "json": {
          "prenom": "Jean",
          "nom": "Dupont",
          "email": "jean.dupont@example.com",
          "motDePasse": "password123",
          "typeUtilisateur": "senior"
        }
      }
    },
    {
      "name": "2 - Login utilisateur",
      "method": "POST",
      "url": "http://localhost:8080/api/auth/login",
      "body": {
        "type": "json",
        "json": {
          "email": "jean.dupont@example.com",
          "motDePasse": "password123"
        }
      },
      "tests": [
        {
          "name": "Stocker le token JWT",
          "script": "environment.set('jwt', response.body.token);"
        }
      ]
    },
    {
      "name": "3 - Récupérer tous les utilisateurs (admin uniquement)",
      "method": "GET",
      "url": "http://localhost:8080/api/utilisateurs",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{jwt}}"
        }
      ]
    },
    {
      "name": "4 - Modifier utilisateur",
      "method": "PUT",
      "url": "http://localhost:8080/api/utilisateurs/1",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{jwt}}"
        }
      ],
      "body": {
        "type": "json",
        "json": {
          "prenom": "Jean-Modifié",
          "nom": "Dupont",
          "email": "jean.dupont@example.com",
          "motDePasse": "password123",
          "typeUtilisateur": "senior"
        }
      }
    },
    {
      "name": "5 - Supprimer utilisateur",
      "method": "DELETE",
      "url": "http://localhost:8080/api/utilisateurs/1",
      "headers": [
        {
          "name": "Authorization",
          "value": "Bearer {{jwt}}"
        }
      ]
    }
  ]
}
